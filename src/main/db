CREATE TABLE IF NOT EXISTS COMPONENTS (
  ID             INT          NOT NULL AUTO_INCREMENT PRIMARY KEY,
  COMPONENT_NAME VARCHAR(100) NOT NULL,
  WEIGHT         INT          NOT NULL, /* GRAM */
  PRICE          FLOAT        NOT NULL /* FOR 100 GRAM */
)
  ENGINE = INNODB;

CREATE TABLE IF NOT EXISTS COMPONENTS_BASE (
  ID             INT          NOT NULL AUTO_INCREMENT PRIMARY KEY,
  COMPONENT_NAME VARCHAR(100) NOT NULL,
  WEIGHT         INT          NOT NULL /* GRAM */

)
  ENGINE = INNODB;


CREATE TABLE IF NOT EXISTS ORDERS (
  ID          INT       NOT NULL AUTO_INCREMENT PRIMARY KEY,
  DATE        TIMESTAMP NOT NULL,
  ORDER_PRICE FLOAT     NOT NULL
)
  ENGINE = INNODB;


CREATE TABLE IF NOT EXISTS PIZZA (
  ID          INT          NOT NULL AUTO_INCREMENT PRIMARY KEY,
  PIZZA_NAME  VARCHAR(100) NOT NULL,
  PIZZA_PRICE FLOAT        NOT NULL

)
  ENGINE = INNODB;

CREATE TABLE IF NOT EXISTS COMPLICATE_PIZZA (
  ID           INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ID_PIZZA     INT NOT NULL,
  ID_COMPONENT INT NOT NULL,

  FOREIGN KEY (ID_PIZZA) REFERENCES PIZZA (ID),
  FOREIGN KEY (ID_COMPONENT) REFERENCES COMPONENTS (ID)
)
  ENGINE = INNODB;


CREATE TABLE IF NOT EXISTS ORDERS_CONTAINS (
  ID          INT          NOT NULL AUTO_INCREMENT PRIMARY KEY,
  PIZZA_NAME  VARCHAR(100) NOT NULL,
  PIZZA_PRICE FLOAT        NOT NULL,
  ID_ORDERS   INT          NOT NULL,
  ID_PIZZA    INT          NOT NULL,
  FOREIGN KEY (ID_ORDERS) REFERENCES ORDERS (ID),
  FOREIGN KEY (ID_PIZZA) REFERENCES PIZZA (ID)
)
  ENGINE = INNODB;
